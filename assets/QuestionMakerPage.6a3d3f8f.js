import{u as g,Q as m}from"./index.esm.fbcdd3f4.js";import{_ as b,y as A,z as $,r as U,a as h,B as c,C as q,D as f,J as v,K as y,L as V,G as x,E as l,Q as r}from"./index.2316ead7.js";import{Q as J,b as S,a as k}from"./QPage.fa7a35df.js";import{u as B}from"./answerStore.1579a651.js";import"./focus-manager.02955f48.js";import"./use-form.a48bda39.js";const N=A({name:"QuestionsMakerPage",setup(){const n=g,s=$(),_=B(),t=U(JSON.parse(JSON.stringify(_.questions))),Q=async()=>{await navigator.clipboard.writeText(JSON.stringify({questions:w.value}))},w=h(()=>t.value);return{router:s,copyJson:Q,qs:t,questions:w,removeQuestion:d=>{const u=t.value.findIndex(a=>a.id===d);u>-1&&t.value.splice(u,1)},removeAnswer:(d,u)=>{const a=t.value.find(p=>p.id===d);if(a){const p=a.answers.findIndex(C=>C.id===u);p>-1&&a.answers.splice(p,1)}},addQuestion:()=>{t.value.push({id:n.v4(),question_text:"TEMP",explanation_text:"TEMP",type:"multi",answers:[]})},addAnswer:d=>{t.value.find(a=>a.id===d).answers.push({id:n.v4(),answer_text:"",explanation_text:""})},answerStore:_}}}),E={class:"text-h5 text-weight-bolder row"},P={class:"col-4"},I={class:"col-2"},M={class:"col-12"};function O(n,s,_,t,Q,w){return c(),q(J,{class:"flex flex-center row q-col-gutter-sm row"},{default:f(()=>[(c(!0),v(V,null,y(n.questions,e=>(c(),v("div",{key:e.id,class:"col-10"},[x("div",E,[l(m,{modelValue:e.question_text,"onUpdate:modelValue":o=>e.question_text=o,label:"Question",rounded:"",filled:"",class:"col-8"},null,8,["modelValue","onUpdate:modelValue"]),l(m,{modelValue:e.explanation_text,"onUpdate:modelValue":o=>e.explanation_text=o,label:"Explanation",rounded:"",filled:"",class:"col-8"},null,8,["modelValue","onUpdate:modelValue"]),x("div",P,[l(r,{color:"negative",class:"float-right",icon:"delete",round:"",onClick:o=>n.removeQuestion(e.id)},null,8,["onClick"])])]),l(S,{class:"questioncard"},{default:f(()=>[l(k,null,{default:f(()=>[l(r,{rounded:"",color:"primary",onClick:o=>e.type==="single"?e.type="multi":e.type="single",label:e.type},null,8,["onClick","label"])]),_:2},1024),l(k,{class:"row q-col-gutter-sm"},{default:f(()=>[(c(!0),v(V,null,y(e.answers,o=>(c(),v("div",{key:o.id,class:"col-6 row"},[l(m,{class:"col-10",outlined:"",rounded:"",modelValue:o.answer_text,"onUpdate:modelValue":i=>o.answer_text=i,label:"Question"},null,8,["modelValue","onUpdate:modelValue"]),l(m,{class:"col-10",outlined:"",rounded:"",modelValue:o.explanation_text,"onUpdate:modelValue":i=>o.explanation_text=i,label:"explanation"},null,8,["modelValue","onUpdate:modelValue"]),x("div",I,[l(r,{flat:"",color:"negative",icon:"delete",round:"",onClick:i=>n.removeAnswer(e.id,o.id)},null,8,["onClick"])])]))),128)),l(r,{rounded:"",color:"primary",class:"q-ma-sm",onClick:o=>n.addAnswer(e.id),label:"Add answer","no-caps":""},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]))),128)),x("div",M,[l(r,{class:"q-ma-sm",rounded:"",color:"primary","no-caps":"",label:"Add question",onClick:s[0]||(s[0]=e=>n.addQuestion())}),l(r,{class:"q-ma-sm",rounded:"",color:"primary","no-caps":"",label:"Copy all JSON",onClick:s[1]||(s[1]=e=>n.copyJson())})])]),_:1})}var R=b(N,[["render",O]]);export{R as default};
