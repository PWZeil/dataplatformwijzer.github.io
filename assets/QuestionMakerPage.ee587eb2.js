import{u as C,Q as m}from"./index.esm.cc2f2a42.js";import{_ as b,a as A,u as $,r as U,k as h,o as c,e as q,w as f,L as v,M as k,N as V,i as x,f as l,Q as r}from"./index.dc6b9b27.js";import{Q as N,b as S,a as y}from"./QPage.fc3bde17.js";import{u as J}from"./answerStore.01696659.js";import"./focus-manager.02955f48.js";import"./use-form.fc17799d.js";const B=A({name:"QuestionsMakerPage",setup(){const n=C,s=$(),w=J(),t=U(JSON.parse(JSON.stringify(w.questions))),Q=async()=>{await navigator.clipboard.writeText(JSON.stringify({questions:_.value}))},_=h(()=>t.value);return{router:s,copyJson:Q,qs:t,questions:_,removeQuestion:d=>{const u=t.value.findIndex(a=>a.id===d);u>-1&&t.value.splice(u,1)},removeAnswer:(d,u)=>{const a=t.value.find(p=>p.id===d);if(a){const p=a.answers.findIndex(g=>g.id===u);p>-1&&a.answers.splice(p,1)}},addQuestion:()=>{t.value.push({id:n.v4(),question_text:"TEMP",explanation_text:"TEMP",type:"multi",answers:[]})},addAnswer:d=>{t.value.find(a=>a.id===d).answers.push({id:n.v4(),answer_text:"",explanation_text:""})},answerStore:w}}}),M={class:"text-h5 text-weight-bolder row"},P={class:"col-4"},E={class:"col-2"},I={class:"col-12"};function O(n,s,w,t,Q,_){return c(),q(N,{class:"flex flex-center row q-col-gutter-sm row"},{default:f(()=>[(c(!0),v(V,null,k(n.questions,e=>(c(),v("div",{key:e.id,class:"col-10"},[x("div",M,[l(m,{modelValue:e.question_text,"onUpdate:modelValue":o=>e.question_text=o,label:"Question",rounded:"",filled:"",class:"col-8"},null,8,["modelValue","onUpdate:modelValue"]),l(m,{modelValue:e.explanation_text,"onUpdate:modelValue":o=>e.explanation_text=o,label:"Explanation",rounded:"",filled:"",class:"col-8"},null,8,["modelValue","onUpdate:modelValue"]),x("div",P,[l(r,{color:"negative",class:"float-right",icon:"delete",round:"",onClick:o=>n.removeQuestion(e.id)},null,8,["onClick"])])]),l(S,{class:"questioncard"},{default:f(()=>[l(y,null,{default:f(()=>[l(r,{rounded:"",color:"primary",onClick:o=>e.type==="single"?e.type="multi":e.type="single",label:e.type},null,8,["onClick","label"])]),_:2},1024),l(y,{class:"row q-col-gutter-sm"},{default:f(()=>[(c(!0),v(V,null,k(e.answers,o=>(c(),v("div",{key:o.id,class:"col-6 row"},[l(m,{class:"col-10",outlined:"",rounded:"",modelValue:o.answer_text,"onUpdate:modelValue":i=>o.answer_text=i,label:"Question"},null,8,["modelValue","onUpdate:modelValue"]),l(m,{class:"col-10",outlined:"",rounded:"",modelValue:o.explanation_text,"onUpdate:modelValue":i=>o.explanation_text=i,label:"explanation"},null,8,["modelValue","onUpdate:modelValue"]),x("div",E,[l(r,{flat:"",color:"negative",icon:"delete",round:"",onClick:i=>n.removeAnswer(e.id,o.id)},null,8,["onClick"])])]))),128)),l(r,{rounded:"",color:"primary",class:"q-ma-sm",onClick:o=>n.addAnswer(e.id),label:"Add answer","no-caps":""},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]))),128)),x("div",I,[l(r,{class:"q-ma-sm",rounded:"",color:"primary","no-caps":"",label:"Add question",onClick:s[0]||(s[0]=e=>n.addQuestion())}),l(r,{class:"q-ma-sm",rounded:"",color:"primary","no-caps":"",label:"Copy all JSON",onClick:s[1]||(s[1]=e=>n.copyJson())})])]),_:1})}var D=b(B,[["render",O]]);export{D as default};
